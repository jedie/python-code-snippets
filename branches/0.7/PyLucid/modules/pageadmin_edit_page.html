<script type="text/javascript">
/* <![CDATA[ */
page_content_changed = 0;

// resize the textarea
textarea = document.getElementById("page_content");
function resize_big()   { textarea.rows = textarea.rows*1.2; }
function resize_small() { textarea.rows = textarea.rows/1.2; }

// tinyTextile help in a window
function OpenInWindow(URL) {
  win1 = window.open(URL, "", "width=1000, height=600, dependent=yes, resizable=yes, scrollbars=yes, location=no, menubar=no, status=no, toolbar=no");
  win1.focus();
}

// encode from db warning
function encoding_warning() {
  if (page_content_changed == 1) {
    return confirm('Made changes are lost! Continue?');
  }
}
/* ]]> */
</script>

<form class="internalpage" name="edit_page" method="post" action="%(url)s">
  <p>Page <strong>&quot;%(name)s&quot;</strong>:<br />
    <textarea id="page_content" name="content" rows="25" onchange="page_content_changed=1;">%(content)s</textarea>
  </p>

<span class="resize_buttons">
  <a href="JavaScript:resize_big();" title="makes the textarea bigger">&nbsp;+&nbsp;</a>
  <a href="JavaScript:resize_small();" title="makes the textarea smaller">&nbsp;-&nbsp;</a><br />
</span>

<fieldset><legend>send</legend>
<p>
    <input name="page_id" type="hidden" value="%(page_id)s" />

    <input type="submit" value="save" name="save" />
    <input type="submit" value="preview" name="preview" />
    <input type="reset" onClick="self.location.href='%(abort_url)s'" name="abort" value="abort" />
    |||
    <a href="http://pylucid.org/index.py?p=/Doku/Markup/example" onclick="OpenInWindow(this.href); return false">tinyTextile Help</a>
</p>
   <label class="left" for="trivial">trivial modifications:</label>
   <input class="right" id="trivial" name="trivial" type="checkbox" value="1" />
   <small>( If checked the page will not archived. )</small>
   <br />
   <label class="left" for="summary">Edit summary:</label>
   <input class="right" id="summary" name="summary" type="text" value="%(summary)s" size="50" maxlength="50" />
</fieldset>

<fieldset><legend>Page Details</legend>
   <label class="left" for="name">page name:</label>
   <input class="right" id="name" name="name" type="text" value="%(name)s" size="50" maxlength="50" />
   <br />
   <label class="left" for="shortcut">page shortcut:</label>
   <input class="right" id="shortcut" name="shortcut" type="text" value="%(shortcut)s" size="50" maxlength="50" />
   <br />
   <label class="left" for="title">page title:</label>
   <input class="right" id="title" name="title" type="text" value="%(title)s" size="50" maxlength="50" />
   <br />
   <label class="left" for="keywords">keywords:</label>
   <input class="right" id="keywords" name="keywords" type="text" value="%(keywords)s" size="70" maxlength="255" />
   <br />
   <label class="left" for="description">description:</label>
   <input class="right" id="description" name="description" type="text" value="%(description)s" size="70" maxlength="255" />
</fieldset>

<fieldset><legend>Page Controls</legend>
   <label class="left" for="parent">Parent Page:</label>
   <select class="right" id="parent" name="parent">%(parent_option)s</select>
   <br />
   <label class="left" for="template">Template:</label>
   <select class="right" id="template" name="template">%(template_option)s</select>
   <br />
   <label class="left" for="style">Style:</label>
   <select class="right" id="style" name="style">%(style_option)s</select>
   <br />
   <label class="left" for="markup">Markup:</label>
   <select class="right" id="markup" name="markup">%(markup_option)s</select>
   <br />
   <label class="left" for="ownerID">Page Owner:</label>
   <select class="right" id="ownerID" name="ownerID">%(ownerID_option)s</select>
</fieldset>

<fieldset><legend>Page Permissions</legend>
   <label class="left" for="permitEditGroupID">Editable by Group:</label>
   <select class="right" id="permitEditGroupID" name="permitEditGroupID">%(permitEditGroupID_option)s</select>
   <br />
   <label class="left" for="permitViewGroupID">Viewable by Group:</label>
   <select class="right" id="permitViewGroupID" name="permitViewGroupID">%(permitViewGroupID_option)s</select>
   <br />
   <label class="left" for="showlinks">showlinks:</label>
   <input class="right" id="showlinks" name="showlinks" type="checkbox" value="1"%(showlinks)s />
   <br />
   <label class="left" for="permitViewPublic">permit view public:</label>
   <input class="right" id="permitViewPublic" name="permitViewPublic" type="checkbox" value="1"%(permitViewPublic)s />
</fieldset>

<fieldset><legend>Encoding</legend>
  <small>Character set conversion, from the data base.</small>
  <br />
  <label class="left" for="decode_from">decode from:</label>
  <select class="right" name="decode_from" id="decode_from">%(decode_option)s</select>
  <br />
  <label class="left" for="encode_to">encode to:</label>
  <select class="right" name="encode_to" id="encode_to">%(encode_option)s</select>
  <br />
  <input type="submit" value="encode" name="encode" onclick="return encoding_warning();" />
</fieldset>
</form>

<style type="text/css">
/* <![CDATA[ */
label, input, select, textarea {
  vertical-align: middle;
  margin-top, margin-bottom: 5px;
}
label.left {
  float: left;
  text-align: right;

  width: 10em;
  margin-right: .3em;
  padding: 0px;
}
.rightonly {
  /* Eingabefelder mit Text dahinter */
  margin-left: 10.3em;
  padding: 0px;
}

form br {
  /*  floats nach dem Forumlar aufheben */
  clear: both;
}

label, select, input {
  cursor: pointer;
}
.internalpage input[type=text] {
  width: 75%%;
  cursor: text;
}

.internalpage input, .internalpage select, .internalpage textarea {
  margin: 2px;
  border: 1px solid grey;
  color: #000;
  background: #fafafa;
}
.internalpage input:focus, .internalpage select:focus, .internalpage textarea:focus {
  border: 1px solid back;
  background: #fff;
}
/* ]]> */
</style>