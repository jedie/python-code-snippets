#!/usr/bin/python
# -*- coding: UTF-8 -*-

import datetime, os
try:
    import MySQLdb
except ImportError:
    print 'Sorry, you have to install the "MySQLdb" Package for Python'

from PyLucid import settings
from django.core.management import syncdb, disable_termcolors, _check_for_validation_errors, _get_table_list, \
                        _get_installed_models, _emit_post_sync_signal, load_data
from django.utils import termcolors

connection = MySQLdb.Connect(
    host    = settings.DATABASE_HOST,
    user    = settings.DATABASE_USER,
    passwd  = settings.DATABASE_PASSWORD,
    db      = settings.DATABASE_NAME,
)
cursor=connection.cursor()

os.environ['DJANGO_SETTINGS_MODULE'] = "PyLucid.settings"

## PyLucid 0.7.xx SQL_Data:
v0_7_sql_data = '''
CREATE TABLE `$$pages_internal` (  `name` varchar(50) NOT NULL default '',  `plugin_id` tinyint(4) unsigned NOT NULL default '0',  `method_id` tinyint(4) unsigned NOT NULL default '0',  `template_engine` tinyint(4) unsigned default NULL,  `markup` tinyint(4) unsigned default NULL,  `lastupdatetime` datetime NOT NULL default '0000-00-00 00:00:00',  `lastupdateby` int(11) NOT NULL default '0',  `content_html` text NOT NULL,  `content_js` text NOT NULL,  `content_css` text NOT NULL,  `description` text NOT NULL,  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  PRIMARY KEY  (`name`)) COMMENT='internal page storage';


CREATE TABLE `$$session_data` (  `session_id` varchar(32) NOT NULL default '',  `expiry_time` datetime NOT NULL,  `ip` varchar(15) NOT NULL default '',  `domain_name` varchar(50) NOT NULL default '',  `session_data` longblob NOT NULL COMMENT 'pickled Python object structure',  PRIMARY KEY  (`session_id`),  KEY `session_id` (`session_id`)) COMMENT='session management data';


CREATE TABLE `$$log` (  `id` int(11) NOT NULL auto_increment,  `timestamp` datetime default NULL,  `sid` varchar(50) NOT NULL default '-1',  `user_name` varchar(50) default NULL,  `ip` varchar(50) default NULL,  `domain` varchar(50) default NULL,  `message` varchar(255) NOT NULL default '',  `typ` varchar(50) NOT NULL default '',  `status` varchar(12) NOT NULL default '-1',  PRIMARY KEY  (`id`)) COMMENT='logging storage';


CREATE TABLE `$$template_engines` (  `id` tinyint(1) NOT NULL auto_increment,  `name` varchar(50) NOT NULL default '',  PRIMARY KEY  (`id`),  UNIQUE KEY `name` (`name`)) COMMENT='Liste of available template engines (manually created!)';
INSERT INTO `$$template_engines` VALUES (1,'None'),(2,'string formatting'),(4,'jinja');


CREATE TABLE `$$user_group` (  `id` int(11) NOT NULL auto_increment,  `userID` int(11) NOT NULL default '0',  `groupID` int(11) NOT NULL default '0',  `lastupdatetime` datetime NOT NULL default '0000-00-00 00:00:00',  `lastupdateby` int(11) default NULL,  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  PRIMARY KEY  (`id`),  KEY `groupID` (`groupID`),  KEY `userID` (`userID`)) COMMENT='not used yet!';


CREATE TABLE `$$styles` (  `id` int(11) NOT NULL auto_increment,  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  `lastupdatetime` datetime NOT NULL default '0000-00-00 00:00:00',  `lastupdateby` int(11) NOT NULL default '0',  `plugin_id` tinyint(4) default NULL,  `name` varchar(50) NOT NULL default '',  `description` text,  `content` text NOT NULL,  PRIMARY KEY  (`id`),  UNIQUE KEY `name` (`name`)) COMMENT='CSS stylesheet storage';
INSERT INTO `$$styles` VALUES (1,'2006-06-14 18:40:26','2007-02-05 08:37:56',14,NULL,'main','main Stylesheet','* { color: #000000 }\r\n\r\nbody{\r\n  font-size:0.9em;\r\n  font-family: tahoma, arial, sans-serif;\r\n  background: #FFFFF9;\r\n  margin: 15px 10% 15px 10%;\r\n  min-width:802px;\r\n}\r\n\r\n/*\r\n headline definition if you use a picture:\r\n----------------------------------------------\r\n#headline {\r\n  background: #C9C573;\r\n  text-align: center;\r\n  height: 70px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border: 1px solid black;\r\n  border-bottom: 0px;\r\n}\r\n#headline img {\r\n  border: 0px;\r\n  overflow:hidden;\r\n}\r\n----------------------------------------------\r\n*/\r\n\r\n/*\r\n headline definition with text only:\r\n*/\r\n#headline {\r\n  background: #C9C573;\r\n  font-size: 30px;\r\n  margin: 0px;\r\n  padding: 10px;\r\n  border: 1px solid black;\r\n  border-bottom: 0px;\r\n}\r\n#headline a {\r\n  text-decoration:none;\r\n  color: white;\r\n}\r\n/*\r\n----------------------------------------------\r\n*/\r\n\r\n#back_links {\r\n  font-size:0.8em;\r\n}\r\n\r\n#the_menu {\r\n  background: #FFFFDB;\r\n  border: 1px solid #B1B08B;\r\n  float: right;\r\n  padding: 15px;\r\n  margin: 10px;\r\n}\r\n#the_menu img {\r\n  text-align: center;\r\n}\r\n\r\n#main_menu {\r\n  font-size:0.9em;\r\n}\r\n\r\n#searching input, #searching button {\r\n  font-size: 0.85em;\r\n  border: 1px solid #444;\r\n  padding: 1px;\r\n}\r\n\r\n#main_content {\r\n  min-height:400px;\r\n  background: #FFFFE5;\r\n  padding: 5px;\r\n  border: 1px solid black;\r\n}\r\n\r\na:hover, a .current {\r\n  background-color: #C9C573;\r\n  color: white;\r\n}\r\n\r\n#footer {\r\n  font-size:0.75em;\r\n  border: 1px solid black;\r\n  padding: 5px;\r\n  text-align: center;\r\n}\r\n\r\n\r\n\r\n/* ----------------------------------------------------------------------------\r\n   internal\r\n------------------------------------------------------------------------------- */\r\ntextarea {\r\n  width: 100%;\r\n}'),(2,'2006-06-14 18:40:26','2006-06-14 18:40:26',0,NULL,'none','This is a blank stylesheet.',''),(41,'2007-02-05 08:28:45','2007-02-05 08:28:45',14,NULL,'old_main','clone of \'main\'','/* ???? Farben:\r\n\r\n#C9C573;\r\n#B1B08B;\r\n#FFFFDB;\r\n\r\n*/\r\n\r\n* { color: #000000 }\r\nbody {\r\n  margin:0;\r\n  padding:0;\r\n  padding-left:15em;\r\n  padding-top:120px;\r\n\r\n  font-family: tahoma, arial, sans-serif;\r\n  color: #000;\r\n  font-size: 0.9em;\r\n  background-color: #C9C573;\r\n}\r\n\r\nbody > #sidebar, body > #headline, body > #adsense {\r\n  /* Kopf und Navi feststehend machen */\r\n  position:fixed;\r\n}\r\n\r\nhtml, body {\r\n  margin: 5px;\r\n  padding: 0;\r\n}\r\ntextarea {\r\n  background-color: #FFFFF5;\r\n}\r\n#page_msg, pre, .code, .SourceCode, fieldset legend {\r\n  font-family: Courier New,Courier,monospace,mono;\r\n  background-color: #FAFAFD;\r\n  color: #000;\r\n  padding: 10px;\r\n  border: 1px solid #C9C573;\r\n  font-size: 0.8em;\r\n}\r\n.SourceCode {\r\n  white-space:nowrap;\r\n}\r\nfieldset legend {\r\n  font-size: 1em;\r\n  padding: 3px;\r\n}\r\n#page_msg {\r\n  border-color: #F00;\r\n  color: #A00;\r\n}\r\n\r\n/* -----------------------------------------------------\r\n?berschrift ?ber die gesammte Seite\r\n----------------------------------------------------- */\r\n#headline {\r\n  position:absolute;\r\n  width: 100%;\r\n  left:0em;\r\n  top:0em;\r\n  z-index:3;\r\n\r\n  margin:0;\r\n  padding:0;\r\n\r\n  white-space:pre;\r\n  background-color:inherit;\r\n  overflow:hidden;\r\n}\r\n#headline h2 {\r\n  font-size: 2em;\r\n  margin: 0.5em;\r\n  padding-left: 1.5em;\r\n  color: #FFF;\r\n}\r\n\r\n/* -----------------------------------------------------\r\ngoogle AdSense\r\n----------------------------------------------------- */\r\n\r\n#adsense {\r\n  position:absolute;\r\n  top: 0px;\r\n  right: 3px;\r\n  z-index:99;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nMenu\r\n----------------------------------------------------- */\r\n#sidebar {\r\n  position:absolute;\r\n  top: 100px;\r\n  left: 3px;\r\n  width: 17em;\r\n  height: auto;\r\n  z-index: 10;\r\n\r\n  background-color: #FFFFDB;\r\n  border: 1px solid #B1B08B;\r\n  font-size: 0.9em;\r\n  color: #000;\r\n\r\n  text-align:left;\r\n\r\n  padding: 0em;\r\n  padding-top: 1em;\r\n  margin: 0px;\r\n}\r\n#sidebar a {\r\n  text-decoration:none;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  padding-left: 0.5em;\r\n  padding-right: 0.5em;\r\n}\r\n#sidebar a:hover, #sidebar a .current {\r\n  /* hover + Aktuell angeklickter Men?punkt */\r\n  background-color: #C9C573;\r\n  color: #FFF;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  padding-left: 0.5em;\r\n  padding-right: 0.5em;\r\n}\r\n#sidebar ul {\r\n  margin: 1.5em;\r\n  margin-right: 0px;\r\n  margin-top: 0.2em;\r\n  margin-bottom: 1.5em;\r\n\r\n  padding: 0px;\r\n\r\n  list-style-type: none;\r\n  border:0px;\r\n}\r\n#sidebar li {\r\n  white-space: nowrap;\r\n  margin: 0px;\r\n  margin-right: 0px;\r\n  padding: 0px;\r\n}\r\n#sidebar img {\r\n  margin: 5px 0px 5px 5px;\r\n  padding: 5px 0px 5px 5px;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nCMS Page\r\n----------------------------------------------------- */\r\n#main-content {\r\n  /* Rahmen f?r main-content + footer_nav */\r\n  position:absolute;\r\n  top: 60px;\r\n  left: 12em;\r\n  min-width: 50em;\r\n  min-height: 600px;\r\n  z-index: 1;\r\n  margin: 5px;\r\n  padding: 20px;\r\n  padding-left: 6em;\r\n  background-color: #FFFFE5;\r\n  border:1px solid black;\r\n}\r\n#main-content h2 {\r\n  border-bottom: 1px solid #000;\r\n}\r\n#nav_footer, #nav_link {\r\n  font-size: 0.6em;\r\n}\r\n#nav_footer, #nav_footer a, #nav_link, #nav_link a {\r\n  border-top: 1px solid #B1B08B;\r\n  color: #B1B08B;\r\n  text-decoration: none;\r\n  text-align: right;\r\n}\r\n#nav_link, #nav_link a {\r\n  text-align: left;\r\n  border: 0px;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nAdmin Menu\r\n----------------------------------------------------- */\r\n.adminmenu {\r\npadding: 5px;\r\nbackground-color: #C9C573;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nLinks aus dem breadcrumbs-Plugin\r\n----------------------------------------------------- */\r\n#breadcrumbs {\r\nwidth: 80%;\r\nmargin:1em auto;\r\ntext-align:left;\r\nmax-width: 1024px;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nZusatzmodule\r\n----------------------------------------------------- */\r\n.Gallery ul {\r\ntext-align: center;\r\nmargin: 0px;\r\npadding: 0px;\r\n}\r\n.Gallery li {\r\nfloat: left;\r\nborder: 1px solid #EAECFF;\r\nheight: 150px;\r\nwidth: auto;\r\ntext-align: center;\r\nmargin: 5px;\r\npadding: 5px;\r\nlist-style-type: none;\r\nbackground-color: #EDF1FF;\r\n}\r\n.clear {\r\nclear: both;\r\nmargin: 5px;\r\npadding: 5px;\r\nborder: none;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nEdit Look\r\n----------------------------------------------------- */\r\n#edit_style_select, #edit_template_select {\r\nborder-spacing: 0.5em;\r\n}\r\n#edit_style_select .name, #edit_template_select .name {\r\nfont-weight:bold\r\n\r\n}\r\n#edit_style_select .description, #edit_template_select .description {\r\nfont-style: italic;\r\n}\r\n#page_edit_preview {\r\nborder: 1px solid #C9C573;\r\n}\r\n.resize_buttons a {\r\ntext-decoration:none;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nPage Edit\r\n----------------------------------------------------- */\r\n#page_content {\r\nwidth: 100%;\r\n}\r\n\r\n\r\n/* -----------------------------------------------------\r\nsearch\r\n----------------------------------------------------- */\r\n#search_form input, #search_form button {\r\nfont-size: 0.9em;\r\nborder: 1px solid #444;\r\npadding: 1px;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nlucidFunction:RSS\r\n----------------------------------------------------- */\r\n.RSS {\r\nmargin: 1em;\r\npadding: 1em;\r\nborder: 1px solid;\r\n}\r\n.RSS li {\r\nlist-style-type: none;\r\n}\r\n.RSS h1 {\r\nfont-size: 1em;\r\nfont-weight: bold;\r\nmargin: 0px;\r\n}\r\n\r\n/* -----------------------------------------------------\r\nresize buttons for textarea\r\n----------------------------------------------------- */\r\n#resize_buttons * {\r\ntext-decoration:none;\r\nmargin: 0px;\r\npadding: 0.1em 2em 0.1em 2em;\r\nfont-family:Verdana;\r\nfont-weight:bold;\r\nline-height:2em;\r\n}\r\n#resize_buttons a:link {\r\ncolor: #000;\r\nbackground-color: #f5f5f5;\r\nborder: 1px solid;\r\nborder-color: #ddd #555 #555 #ddd;\r\n}\r\n#resize_buttons a:hover{\r\ncolor: #fff;\r\nbackground-color: #aaa;\r\nborder-color: #555 #ddd #ddd #555;\r\n}\r\n\r\n/* ----------------------------------------------------------------------------\r\nPyKleur Sourcecode highlighter\r\n------------------------------------------------------------------------------- */\r\nfieldset.syntax, fieldset.syntax * {\r\n  background-color: white;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 1em;\r\n}\r\nfieldset.syntax, legend.syntax {\r\n  padding: 1px;\r\n  border: 1px solid #d0d0d0;\r\n}\r\nlegend.syntax {\r\n  /* fieldset legend, the sourcecode type */\r\n  font-family: Courier New,Courier,monospace,mono;\r\n  margin-left: 5px;\r\n  background-color: white;\r\n  color: black;\r\n  font-size: 0.8em;\r\n  padding: 2px;\r\n}\r\ndiv.highlight, td.linenos pre, td.code pre {\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\ntd.linenos pre {\r\n  /* line number block */\r\n  background-color: #f5f5f5;\r\n  color: #aaa;\r\n  padding: 0px 5px 0px 1em;\r\n}\r\n\r\n/* automatic generatet! Look at PyLucid/system/page_parser.py */\r\n.syntax .c   { color: #60a0b0; font-style: italic  }  /* Comment */\r\n.syntax .err { border: 1px solid #FF0000           }  /* Error */\r\n.syntax .k   { color: #007020; font-weight: bold   }  /* Keyword */\r\n.syntax .o   { color: #666666                      }  /* Operator */\r\n.syntax .cp  { color: #007020                      }  /* Comment.Preproc */\r\n.syntax .gd  { color: #A00000                      }  /* Generic.Deleted */\r\n.syntax .ge  { font-style: italic                  }  /* Generic.Emph */\r\n.syntax .gr  { color: #FF0000                      }  /* Generic.Error */\r\n.syntax .gh  { color: #000080; font-weight: bold   }  /* Generic.Heading */\r\n.syntax .gi  { color: #00A000                      }  /* Generic.Inserted */\r\n.syntax .go  { color: #808080                      }  /* Generic.Output */\r\n.syntax .gp  { color: #c65d09; font-weight: bold   }  /* Generic.Prompt */\r\n.syntax .gs  { font-weight: bold                   }  /* Generic.Strong */\r\n.syntax .gu  { color: #800080; font-weight: bold   }  /* Generic.Subheading */\r\n.syntax .gt  { color: #0040D0                      }  /* Generic.Traceback */\r\n.syntax .kp  { color: #007020                      }  /* Keyword.Pseudo */\r\n.syntax .kt  { color: #007020; font-weight: bold   }  /* Keyword.Type */\r\n.syntax .m   { color: #40a070                      }  /* Literal.Number */\r\n.syntax .s   { color: #4070a0                      }  /* Literal.String */\r\n.syntax .na  { color: #4070a0                      }  /* Name.Attribute */\r\n.syntax .nb  { color: #007020                      }  /* Name.Builtin */\r\n.syntax .nc  { color: #0e84b5; font-weight: bold   }  /* Name.Class */\r\n.syntax .no  { color: #60add5                      }  /* Name.Constant */\r\n.syntax .nd  { color: #555555; font-weight: bold   }  /* Name.Decorator */\r\n.syntax .ni  { color: #d55537; font-weight: bold   }  /* Name.Entity */\r\n.syntax .ne  { color: #007020                      }  /* Name.Exception */\r\n.syntax .nf  { color: #06287e                      }  /* Name.Function */\r\n.syntax .nl  { color: #002070; font-weight: bold   }  /* Name.Label */\r\n.syntax .nn  { color: #0e84b5; font-weight: bold   }  /* Name.Namespace */\r\n.syntax .nt  { color: #062873; font-weight: bold   }  /* Name.Tag */\r\n.syntax .nv  { color: #bb60d5                      }  /* Name.Variable */\r\n.syntax .ow  { color: #007020; font-weight: bold   }  /* Operator.Word */\r\n.syntax .sd  { color: #4070a0; font-style: italic  }  /* Literal.String.Doc */\r\n.syntax .se  { color: #4070a0; font-weight: bold   }  /* Literal.String.Escape */\r\n.syntax .si  { color: #70a0d0; font-style: italic  }  /* Literal.String.Interpol */\r\n.syntax .sx  { color: #c65d09                      }  /* Literal.String.Other */\r\n.syntax .sr  { color: #235388                      }  /* Literal.String.Regex */\r\n.syntax .ss  { color: #517918                      }  /* Literal.String.Symbol */'),(38,'2007-01-09 14:37:41','2007-01-09 14:45:59',14,NULL,'small_dark','clone of \'main\'','/* Kopfgrafik */\r\nhead {\r\n  width: 639px;\r\n}\r\n/* Allgemein */\r\n* {\r\n  color: #8F8F8F;\r\n  font-family:sans-serif;\r\n  font-size:0.95em;\r\n}\r\n\r\na {\r\n  text-decoration:none;\r\n}\r\na img, img {\r\n  border: 0;\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\n\r\nbody {\r\n  background-color: #1A252F;\r\n  text-align:center;\r\n}\r\n\r\n#content {\r\n  width: 639px;\r\n  margin:auto;\r\n  text-align:left;\r\n}\r\n\r\n\r\n/* Headlines */\r\n#head {\r\n  font-size: 2em;\r\n  margin: 0.5em;\r\n  padding-left: 1.5em;\r\n  color: #FFF;\r\n}\r\nh1, h2 {\r\n  text-transform:uppercase;\r\n  font-size:0.95em;\r\n  color: white;\r\n}\r\nh2 {\r\n  border-bottom: 1px solid #8F8F8F;\r\n}\r\n\r\n\r\n/* linien */\r\nhr {\r\n  clear: both;\r\n  border-width:1px;\r\n  height:1px;\r\n  padding: 0px;\r\n  margin: 2px 0px 2px 0px;\r\n}\r\nhr.big {\r\n  border-width: 3px;\r\n  height:3px;\r\n  border-style: solid\r\n}\r\nhr.small {\r\n  border-style:dotted;\r\n}\r\n\r\n#nav_footer {\r\n  font-size:0.9em;\r\n}\r\n\r\n\r\n\r\n\r\n/* Hauptmenu */\r\n#main_menu, #footer {\r\n  text-align:center;\r\n  width: 639px;\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\n#main_menu ul {\r\n  list-style:none;\r\n}\r\n#main_menu li {\r\n  display:inline;\r\n  padding: 5px;\r\n}\r\n#main_menu a .current,  #main_menu a:hover, #footer a {\r\n  color: white;\r\n}\r\n\r\n/* intern */\r\ntextarea {\r\n  width: 100%;\r\n}\r\n\r\n/* ----------------------------------------------------------------------------\r\nPyKleur Sourcecode highlighter\r\n------------------------------------------------------------------------------- */\r\nfieldset.syntax, fieldset.syntax * {\r\n  background-color: white;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 1em;\r\n}\r\nfieldset.syntax, legend.syntax {\r\n  padding: 1px;\r\n  border: 1px solid #d0d0d0;\r\n}\r\nlegend.syntax {\r\n  /* fieldset legend, the sourcecode type */\r\n  font-family: Courier New,Courier,monospace,mono;\r\n  margin-left: 5px;\r\n  background-color: white;\r\n  color: black;\r\n  font-size: 0.8em;\r\n  padding: 2px;\r\n}\r\ndiv.highlight, td.linenos pre, td.code pre {\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\ntd.linenos pre {\r\n  /* line number block */\r\n  background-color: #f5f5f5;\r\n  color: #aaa;\r\n  padding: 0px 5px 0px 1em;\r\n}\r\n\r\n/* automatic generatet! Look at PyLucid/system/page_parser.py */\r\n.syntax .c   { color: #60a0b0; font-style: italic  }  /* Comment */\r\n.syntax .err { border: 1px solid #FF0000           }  /* Error */\r\n.syntax .k   { color: #007020; font-weight: bold   }  /* Keyword */\r\n.syntax .o   { color: #666666                      }  /* Operator */\r\n.syntax .cp  { color: #007020                      }  /* Comment.Preproc */\r\n.syntax .gd  { color: #A00000                      }  /* Generic.Deleted */\r\n.syntax .ge  { font-style: italic                  }  /* Generic.Emph */\r\n.syntax .gr  { color: #FF0000                      }  /* Generic.Error */\r\n.syntax .gh  { color: #000080; font-weight: bold   }  /* Generic.Heading */\r\n.syntax .gi  { color: #00A000                      }  /* Generic.Inserted */\r\n.syntax .go  { color: #808080                      }  /* Generic.Output */\r\n.syntax .gp  { color: #c65d09; font-weight: bold   }  /* Generic.Prompt */\r\n.syntax .gs  { font-weight: bold                   }  /* Generic.Strong */\r\n.syntax .gu  { color: #800080; font-weight: bold   }  /* Generic.Subheading */\r\n.syntax .gt  { color: #0040D0                      }  /* Generic.Traceback */\r\n.syntax .kp  { color: #007020                      }  /* Keyword.Pseudo */\r\n.syntax .kt  { color: #007020; font-weight: bold   }  /* Keyword.Type */\r\n.syntax .m   { color: #40a070                      }  /* Literal.Number */\r\n.syntax .s   { color: #4070a0                      }  /* Literal.String */\r\n.syntax .na  { color: #4070a0                      }  /* Name.Attribute */\r\n.syntax .nb  { color: #007020                      }  /* Name.Builtin */\r\n.syntax .nc  { color: #0e84b5; font-weight: bold   }  /* Name.Class */\r\n.syntax .no  { color: #60add5                      }  /* Name.Constant */\r\n.syntax .nd  { color: #555555; font-weight: bold   }  /* Name.Decorator */\r\n.syntax .ni  { color: #d55537; font-weight: bold   }  /* Name.Entity */\r\n.syntax .ne  { color: #007020                      }  /* Name.Exception */\r\n.syntax .nf  { color: #06287e                      }  /* Name.Function */\r\n.syntax .nl  { color: #002070; font-weight: bold   }  /* Name.Label */\r\n.syntax .nn  { color: #0e84b5; font-weight: bold   }  /* Name.Namespace */\r\n.syntax .nt  { color: #062873; font-weight: bold   }  /* Name.Tag */\r\n.syntax .nv  { color: #bb60d5                      }  /* Name.Variable */\r\n.syntax .ow  { color: #007020; font-weight: bold   }  /* Operator.Word */\r\n.syntax .sd  { color: #4070a0; font-style: italic  }  /* Literal.String.Doc */\r\n.syntax .se  { color: #4070a0; font-weight: bold   }  /* Literal.String.Escape */\r\n.syntax .si  { color: #70a0d0; font-style: italic  }  /* Literal.String.Interpol */\r\n.syntax .sx  { color: #c65d09                      }  /* Literal.String.Other */\r\n.syntax .sr  { color: #235388                      }  /* Literal.String.Regex */\r\n.syntax .ss  { color: #517918                      }  /* Literal.String.Symbol */'),(39,'2007-01-09 15:13:45','2007-01-09 15:51:00',14,NULL,'elementary','clone of \'main\'','body{\r\n  font-size:0.9em;\r\n  background: snow;\r\n  margin: 15px 10% 15px 10%;\r\n}\r\n\r\n#headline {\r\n  background: moccasin;\r\n  padding: 10px;\r\n  border: 1px solid black;\r\n}\r\n\r\n#main_menu {\r\n  background: navajowhite;\r\n  float: left;\r\n  padding: 15px;\r\n  margin: 10px;\r\n}\r\n#main_menu a {\r\n  text-decoration: none;\r\n}\r\n#main_menu a:hover, #main_menu a .current {\r\n  background-color: orange;\r\n}\r\n#main_content {\r\n  background: lightyellow;\r\n  padding: 5px;\r\n  border: 1px solid black;\r\n}\r\n\r\n#footer {\r\n  border: 1px solid black;\r\n  padding: 5px;\r\n  font-size: 0.9em;\r\n  text-align: center;\r\n}\r\n\r\n\r\n\r\n/* ----------------------------------------------------------------------------\r\n   internal\r\n------------------------------------------------------------------------------- */\r\ntextarea {\r\n  width: 100%;\r\n}\r\n\r\n\r\n/* ----------------------------------------------------------------------------\r\n   PyKleur Sourcecode highlighter\r\n------------------------------------------------------------------------------- */\r\nfieldset.syntax, fieldset.syntax * {\r\n  background-color: white;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 1em;\r\n}\r\nfieldset.syntax, legend.syntax {\r\n  padding: 1px;\r\n  border: 1px solid #d0d0d0;\r\n}\r\nlegend.syntax {\r\n  /* fieldset legend, the sourcecode type */\r\n  font-family: Courier New,Courier,monospace,mono;\r\n  margin-left: 5px;\r\n  background-color: white;\r\n  color: black;\r\n  font-size: 0.8em;\r\n  padding: 2px;\r\n}\r\ndiv.highlight, td.linenos pre, td.code pre {\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\ntd.linenos pre {\r\n  /* line number block */\r\n  background-color: #f5f5f5;\r\n  color: #aaa;\r\n  padding: 0px 5px 0px 1em;\r\n}\r\n\r\n/* automatic generatet! Look at PyLucid/system/page_parser.py */\r\n.syntax .c   { color: #60a0b0; font-style: italic  }  /* Comment */\r\n.syntax .err { border: 1px solid #FF0000           }  /* Error */\r\n.syntax .k   { color: #007020; font-weight: bold   }  /* Keyword */\r\n.syntax .o   { color: #666666                      }  /* Operator */\r\n.syntax .cp  { color: #007020                      }  /* Comment.Preproc */\r\n.syntax .gd  { color: #A00000                      }  /* Generic.Deleted */\r\n.syntax .ge  { font-style: italic                  }  /* Generic.Emph */\r\n.syntax .gr  { color: #FF0000                      }  /* Generic.Error */\r\n.syntax .gh  { color: #000080; font-weight: bold   }  /* Generic.Heading */\r\n.syntax .gi  { color: #00A000                      }  /* Generic.Inserted */\r\n.syntax .go  { color: #808080                      }  /* Generic.Output */\r\n.syntax .gp  { color: #c65d09; font-weight: bold   }  /* Generic.Prompt */\r\n.syntax .gs  { font-weight: bold                   }  /* Generic.Strong */\r\n.syntax .gu  { color: #800080; font-weight: bold   }  /* Generic.Subheading */\r\n.syntax .gt  { color: #0040D0                      }  /* Generic.Traceback */\r\n.syntax .kp  { color: #007020                      }  /* Keyword.Pseudo */\r\n.syntax .kt  { color: #007020; font-weight: bold   }  /* Keyword.Type */\r\n.syntax .m   { color: #40a070                      }  /* Literal.Number */\r\n.syntax .s   { color: #4070a0                      }  /* Literal.String */\r\n.syntax .na  { color: #4070a0                      }  /* Name.Attribute */\r\n.syntax .nb  { color: #007020                      }  /* Name.Builtin */\r\n.syntax .nc  { color: #0e84b5; font-weight: bold   }  /* Name.Class */\r\n.syntax .no  { color: #60add5                      }  /* Name.Constant */\r\n.syntax .nd  { color: #555555; font-weight: bold   }  /* Name.Decorator */\r\n.syntax .ni  { color: #d55537; font-weight: bold   }  /* Name.Entity */\r\n.syntax .ne  { color: #007020                      }  /* Name.Exception */\r\n.syntax .nf  { color: #06287e                      }  /* Name.Function */\r\n.syntax .nl  { color: #002070; font-weight: bold   }  /* Name.Label */\r\n.syntax .nn  { color: #0e84b5; font-weight: bold   }  /* Name.Namespace */\r\n.syntax .nt  { color: #062873; font-weight: bold   }  /* Name.Tag */\r\n.syntax .nv  { color: #bb60d5                      }  /* Name.Variable */\r\n.syntax .ow  { color: #007020; font-weight: bold   }  /* Operator.Word */\r\n.syntax .sd  { color: #4070a0; font-style: italic  }  /* Literal.String.Doc */\r\n.syntax .se  { color: #4070a0; font-weight: bold   }  /* Literal.String.Escape */\r\n.syntax .si  { color: #70a0d0; font-style: italic  }  /* Literal.String.Interpol */\r\n.syntax .sx  { color: #c65d09                      }  /* Literal.String.Other */\r\n.syntax .sr  { color: #235388                      }  /* Literal.String.Regex */\r\n.syntax .ss  { color: #517918                      }  /* Literal.String.Symbol */'),(40,'2007-01-15 11:36:33','2007-01-15 12:00:02',14,NULL,'small_white','clone of \'elementary\'','/* andreas01 - an open source xhtml/css website layout \r\n * by Andreas Viklund  - http://andreasviklund.com -\r\n * Free to use for any purpose as long as the proper \r\n * credits are given to the original author.\r\n *  \r\n * Version: 2.0 (Jun 25, 2006)\r\n * Screen layout: \r\n */\r\n\r\n/***** Body and main container *****/\r\nbody {\r\nmargin:0 auto;\r\npadding:0;\r\nfont:76% Verdana,Tahoma,Arial,sans-serif;\r\nbackground:#ddd;\r\ncolor:#303030;\r\n}\r\n\r\n#wrap {\r\nbackground:#ffffff;\r\ncolor:#303030;\r\nmargin:0 auto;\r\nwidth:760px;\r\n}\r\n\r\n/***** Various tags *****/\r\na {\r\ntext-decoration:none;\r\nfont-weight:bold;\r\ncolor:#286ea0;\r\nbackground-color:inherit;\r\n}\r\n\r\na:hover {\r\ntext-decoration:underline;\r\ncolor:#286ea0;\r\nbackground-color:inherit;\r\n}\r\n\r\na img {\r\nborder:0;\r\n}\r\n\r\n/***** Header *****/\r\n#header {\r\nbackground-color:#eaeaea;\r\nmargin:10px 0 0;\r\npadding:0;\r\nheight:45px;\r\n}\r\n\r\n#header h1 {\r\ncolor:#505050;\r\nbackground-color:inherit;\r\nwidth:250px;\r\nmargin:0 0 10px;\r\nfont-size:2.2em;\r\nfloat:left;\r\n}\r\n\r\n#header h1 a{\r\ncolor:#505050;\r\nbackground-color:inherit;\r\ntext-decoration:none;\r\n}\r\n\r\n#header p {\r\nwidth:500px;\r\nfloat:right;\r\ntext-align:center;\r\ncolor:#505050;\r\nmargin:8px 0 0;\r\nfont-size:1.1em;\r\nfont-weight:bold;\r\nline-height:1.3em;\r\nbackground-color:inherit;\r\n}\r\n\r\n#frontphoto {\r\nmargin:0 0 10px;\r\nborder:0;\r\n}\r\n\r\n/***** Main menu *****/\r\n#main_menu ul {\r\nwidth:140px;\r\nmargin:0 0 18px;\r\npadding:0;\r\nlist-style:none;\r\n}\r\n\r\n#main_menu li {\r\nwidth:140px;\r\npadding:0;\r\nline-height:1.4em;\r\ndisplay:inline;\r\n}\r\n\r\n#main_menu li a {\r\nbackground-color:#f4f4f4;\r\ncolor:#505050;\r\nfont-weight:bold;\r\nwidth:130px;\r\nfloat:left;\r\nmargin-bottom:5px;\r\npadding:5px 1px 5px 5px;\r\nborder-left:4px solid #cccccc;\r\ntext-decoration:none;\r\n}\r\n\r\n#main_menu li a:hover {\r\nbackground-color:#eaeaea;\r\nborder-left:4px solid #286ea0;\r\ncolor:#505050;\r\n}\r\n#main_menu li a .current {\r\nbackground-color:#ddd;\r\n}\r\n\r\n\r\n#main_menu ul {\r\nmargin:0 0 0 15px;\r\npadding:0 0 5px 0;\r\nfont-size:0.9em;\r\nwidth:125px;\r\n}\r\n\r\n#main_menu ul a {\r\npadding:3px 1px 3px 5px;\r\nwidth:115px;\r\n}\r\n\r\n#main_menu ul ul {\r\nwidth:113px;\r\n}\r\n\r\n#main_menu ul ul a {\r\nwidth:100px;\r\n}\r\n\r\n/***** Left sidebar *****/\r\n#leftside {\r\nclear:left;\r\nfloat:left;\r\nwidth:140px;\r\nmargin:0 0 5px;\r\npadding:0;\r\n}\r\n\r\n#leftside h2, #leftside h3 {\r\ncolor:#505050;\r\nbackground-color:inherit;\r\nfont-size:1.3em;\r\nmargin:0 0 5px;\r\npadding:0;\r\n}\r\n\r\n#leftside div.announce {\r\nclear:left;\r\nmargin:10px 0 15px;\r\npadding:7px 5px;\r\nwidth:126px;\r\nfont-size:0.9em;\r\nbackground-color:#f4f4f4;\r\ncolor:#505050;\r\nborder-left:4px solid #cccccc;\r\nline-height:1.5em;\r\n}\r\n\r\n#leftside div.announce p {\r\nmargin:10px 0 0;\r\npadding:0;\r\n}\r\n\r\n/***** Right sidebar *****/\r\n\r\n#rightside {\r\nfloat:right;\r\nwidth:140px;\r\nmargin:0 0 5px;\r\npadding:0;\r\nline-height:1.4em;\r\n}\r\n\r\n#extras p,#extras ul {\r\nfont-size:0.9em;\r\nmargin:0 0 16px;\r\npadding:0;\r\n}\r\n\r\n#extras li {\r\nlist-style:none;\r\nline-height:1.2em;\r\nmargin:0 0 6px 0;\r\npadding:0;\r\n}\r\n\r\n#extras ul ul {\r\nmargin:6px 0 0 10px;\r\npadding:0;\r\n}\r\n\r\n#extras ul ul li {\r\nmargin: 0 0 4px 0;\r\n}\r\n\r\n#extras ul ul li a {\r\nfont-size:1.1em;\r\nfont-weight:normal;\r\n}\r\n\r\n#extras h2, #extras h3 {\r\ncolor:#505050;\r\nbackground-color:inherit;\r\nfont-size:1.2em;\r\nmargin:0 0 10px;\r\npadding:0;\r\n}\r\n\r\n/***** Main content *****/\r\n#content {\r\nmargin:0 200px 5px 200px;\r\nborder-left:1px solid #e0e0e0;\r\nborder-right:1px solid #e0e0e0;\r\npadding:0 10px;\r\nline-height:1.6em;\r\n}\r\n\r\n#contentwide {\r\nmargin:0 0 5px 200px;\r\nborder-left:1px solid #f0f0f0;\r\npadding:0 0 0 10px;\r\nline-height:1.6em;\r\n}\r\n\r\n#content h2,#contentwide h2 {\r\nfont-size:1.6em;\r\nmargin:0 0 10px;\r\n}\r\n\r\n#content h3,#contentwide h3 {\r\nfont-size:1.4em;\r\nmargin:0 0 8px;\r\n}\r\n\r\n#content img.normal, #contentwide img.normal {\r\npadding:1px;\r\ndisplay:inline;\r\nbackground:#cccccc;\r\ncolor:#303030;\r\nborder:4px solid #f0f0f0;\r\n}\r\n\r\n#content ul, #contentwide ul, #content ol, #contentwide ol {\r\nmargin:0 0 16px 20px;\r\npadding:0;\r\n}\r\n\r\n#content li, #contentwide li {\r\nmargin:0;\r\npadding:0 0 0 5px;\r\n}\r\n\r\n#content ul ul, #contentwide ul ul, #content ol ol, #contentwide ol ol{\r\nmargin:0 0 0 16px;\r\npadding:0;\r\n}\r\n\r\n/***** Footer *****/\r\n#footer {\r\nclear:both;\r\nmargin:0 auto;\r\npadding:10px 0 20px;\r\nborder-top:4px solid #f0f0f0;\r\nwidth:760px;\r\ntext-align:center;\r\ncolor:#808080;\r\nbackground:#ffffff;\r\nfont-size:0.9em;\r\n}\r\n\r\n#footer a {\r\ncolor:#808080;\r\nbackground-color:inherit;\r\ntext-decoration:none;\r\n}\r\n\r\n#footer a:hover {\r\ntext-decoration:underline;\r\n}\r\n\r\n/***** Various classes *****/\r\n.left {\r\nmargin:3px 10px 2px 0;\r\nfloat:left;\r\n}\r\n\r\n.right {\r\nmargin:2px 0 2px 10px;\r\nfloat:right;\r\n}\r\n\r\n.textright {\r\ntext-align:right;\r\n}\r\n\r\n.center {\r\ntext-align:center;\r\n}\r\n\r\n.small {\r\nfont-size:0.8em;\r\n}\r\n\r\n.bold {\r\nfont-weight:bold;\r\n}\r\n\r\n.hide {\r\ndisplay:none;\r\n}\r\n\r\n/* \r\n----------------------------------------------------------------------------\r\nPygments Sourcecode highlighter\r\n----------------------------------------------------------------------------\r\n*/\r\nfieldset.syntax, fieldset.syntax * {\r\n  background-color: white;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 1em;\r\n}\r\nfieldset.syntax, legend.syntax {\r\n  padding: 1px;\r\n  border: 1px solid #d0d0d0;\r\n}\r\nlegend.syntax {\r\n  /* fieldset legend, the sourcecode type */\r\n  font-family: Courier New,Courier,monospace,mono;\r\n  margin-left: 5px;\r\n  background-color: white;\r\n  color: black;\r\n  font-size: 0.8em;\r\n  padding: 2px;\r\n}\r\ndiv.highlight, td.linenos pre, td.code pre {\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\ntd.linenos pre {\r\n  /* line number block */\r\n  background-color: #f5f5f5;\r\n  color: #aaa;\r\n  padding: 0px 5px 0px 1em;\r\n}\r\n\r\n/* automatic generatet! Look at PyLucid/system/page_parser.py */\r\n.syntax .c   { color: #60a0b0; font-style: italic  } /* Comment */\r\n.syntax .err { border: 1px solid #FF0000           } /* Error */\r\n.syntax .k   { color: #007020; font-weight: bold   } /* Keyword */\r\n.syntax .o   { color: #666666                      } /* Operator */\r\n.syntax .cp  { color: #007020                      } /* Comment.Preproc */\r\n.syntax .gd  { color: #A00000                      } /* Generic.Deleted */\r\n.syntax .ge  { font-style: italic                  } /* Generic.Emph */\r\n.syntax .gr  { color: #FF0000                      } /* Generic.Error */\r\n.syntax .gh  { color: #000080; font-weight: bold   } /* Generic.Heading */\r\n.syntax .gi  { color: #00A000                      } /* Generic.Inserted */\r\n.syntax .go  { color: #808080                      } /* Generic.Output */\r\n.syntax .gp  { color: #c65d09; font-weight: bold   } /* Generic.Prompt */\r\n.syntax .gs  { font-weight: bold                   } /* Generic.Strong */\r\n.syntax .gu  { color: #800080; font-weight: bold   } /* Generic.Subheading */\r\n.syntax .gt  { color: #0040D0                      } /* Generic.Traceback */\r\n.syntax .kp  { color: #007020                      } /* Keyword.Pseudo */\r\n.syntax .kt  { color: #007020; font-weight: bold   } /* Keyword.Type */\r\n.syntax .m   { color: #40a070                      } /* Literal.Number */\r\n.syntax .s   { color: #4070a0                      } /* Literal.String */\r\n.syntax .na  { color: #4070a0                      } /* Name.Attribute */\r\n.syntax .nb  { color: #007020                      } /* Name.Builtin */\r\n.syntax .nc  { color: #0e84b5; font-weight: bold   } /* Name.Class */\r\n.syntax .no  { color: #60add5                      } /* Name.Constant */\r\n.syntax .nd  { color: #555555; font-weight: bold   } /* Name.Decorator */\r\n.syntax .ni  { color: #d55537; font-weight: bold   } /* Name.Entity */\r\n.syntax .ne  { color: #007020                      } /* Name.Exception */\r\n.syntax .nf  { color: #06287e                      } /* Name.Function */\r\n.syntax .nl  { color: #002070; font-weight: bold   } /* Name.Label */\r\n.syntax .nn  { color: #0e84b5; font-weight: bold   } /* Name.Namespace */\r\n.syntax .nt  { color: #062873; font-weight: bold   } /* Name.Tag */\r\n.syntax .nv  { color: #bb60d5                      } /* Name.Variable */\r\n.syntax .ow  { color: #007020; font-weight: bold   } /* Operator.Word */\r\n.syntax .sd  { color: #4070a0; font-style: italic  } /* Literal.String.Doc */\r\n.syntax .se  { color: #4070a0; font-weight: bold   } /* Literal.String.Escape */\r\n.syntax .si  { color: #70a0d0; font-style: italic  } /* Literal.String.Interpol */\r\n.syntax .sx  { color: #c65d09                      } /* Literal.String.Other */\r\n.syntax .sr  { color: #235388                      } /* Literal.String.Regex */\r\n.syntax .ss  { color: #517918                      } /* Literal.String.Symbol */\r\n');


CREATE TABLE `$$preferences` (  `id` int(11) NOT NULL auto_increment,  `pluginID` int(11) NOT NULL default '0',  `section` varchar(30) NOT NULL default '',  `varName` varchar(30) NOT NULL default '',  `name` varchar(50) NOT NULL default '',  `description` text NOT NULL,  `value` varchar(100) NOT NULL default '',  `type` varchar(30) NOT NULL default 'text',  PRIMARY KEY  (`id`),  KEY `section` (`section`)) COMMENT='old cfg values, used partially';
INSERT INTO `$$preferences` VALUES (1,0,'core','defaultPage','Default Page','This is the default page that a site visitor will see if they arrive at your CMS without specifying a particular page.','1','pageSelect'),(2,0,'core','defaultMarkup','Preferred Text Markup','This specifies what the default text markup parser will be for new pages. You can set it to the name of a plugin markup parser (\"textile\" and \"markdown\" are currently available), or \"none\".','textile','markupSelect'),(3,0,'core','defaultTemplate','Default Template Name','This is the template that will be assigned to new pages when they are created.','1','templateSelect'),(4,0,'core','defaultStyle','Default Style Name','This is the stylesheet taht will be assigned to new pages when they are created.','1','styleSelect'),(5,0,'core','defaultShowLinks','Show Links default','This determines whether new pages are shown or hidden in navigation controls. Check to have pages shown, or leave unchecked to have new pages suppressed.','1','checkbox'),(6,0,'core','defaultPermitPublic','Permit Public default','This determines whether new pages are publicly accessible, or require login. Check to make new pages automatically accessible, or leave un-checked to have new pages require login.','1','checkbox'),(7,0,'core','siteOffline','Site Offline','If checked, whenever someone visits your site, rather then seeing the normal requested page, they will instead see the page that is specified in the \"Offline Page\" config item. If the user is currently logged in then they will see the requested page.','','checkbox'),(8,0,'core','offlinePage','Offline Page','This is the page that a user will see if the \"Offline Site\" config item is checked.','1','pageSelect'),(9,0,'core','formatDate','Date Format','Specify your preferred date display format (php time format).','%d.%m.%Y','text'),(10,0,'core','formatTime','Time Format','Specify your preferred time display format (php time format).','%H:%M','text'),(11,0,'core','formatDateTime','DateTime Format','Specify your preferred date + time display format (php time format).','%d.%m.%Y - %H:%M','text'),(12,0,'core','timezoneOffset','Timezone Offset','The number of hours difference between your server\'s time and the time you wish to have displayed (not necessarily offset from GMT).','0','text'),(13,0,'core','inactivityTimeout','Inactivitiy Timeout','The number of idle minutes before requiring user to log in again.','60','text'),(14,0,'core','rows','Editor - Rows','The number of rows to display in the editor.','25','text'),(15,0,'core','cols','Editor - Columns','The number of columns to display in the editor.','100','text'),(73,13,'MenuMaker','useTitles','Use Page Titles for Link Text','If this is checked, then page titles will be used for the text of links generated in menus. If there is no title, then the page name will be used for the link text.','1','checkbox'),(72,13,'MenuMaker','peerReplace','Peer Menu to replace Sub Menu','If this is checked, then when there are no items to display in the \"sub menu\" then the \"sub menu\" will be replaced with the \"peer menu\". This is usually the desired menu behaviour.','1','checkbox'),(71,13,'peerMenu','currentAfter','Peer Menu Current Page After','HTML placed after the currently displayed page link - if this is blank then \"Main Menu After\" will be used.','','text'),(70,13,'peerMenu','currentBefore','Peer Menu Current Page Before','HTML placed before the currently displayed page link - if this is blank then \"Main Menu Before\" will be used.','','text'),(69,13,'peerMenu','after','Peer Menu After','HTML placed after each individual menu item','</li>','text'),(68,13,'peerMenu','before','Peer Menu Before','HTML placed before each individual menu item','<li>','text'),(67,13,'peerMenu','finish','Peer Menu Finish','HTML placed at the end of the menu','</ul>','text'),(66,13,'peerMenu','begin','Peer Menu Begin','HTML placed at the beginning of the menu','<ul>','text'),(65,13,'subMenu','currentAfter','Sub Menu Current Page After','HTML placed after the currently displayed page link - if this is blank then \"Main Menu After\" will be used.','','text'),(62,13,'subMenu','before','Sub Menu Before','HTML placed before each individual menu item','<li>','text'),(63,13,'subMenu','after','Sub Menu After','HTML placed after each individual menu item','</li>','text'),(64,13,'subMenu','currentBefore','Sub Menu Current Page Before','HTML placed before the currently displayed page link - if this is blank then \"Main Menu Before\" will be used.','','text'),(60,13,'subMenu','begin','Sub Menu Begin','HTML placed at the beginning of the menu','<ul>','text'),(61,13,'subMenu','finish','Sub Menu Finish','HTML placed at the end of the menu','</ul>','text'),(39,6,'ImageManager','maxSize','Max Upload Size','Maximum size (in bytes) of an image you can upload','300000','text'),(38,6,'ImageManager','imageDir','Image Directory','This is the path to where the uploaded images will be stored. Please ensure that this directory exists and is writable by the web user.','./images/','text'),(59,13,'mainMenu','currentAfter','Main Menu Current Page After','HTML placed after the currently displayed page link - if this is blank then \"Main Menu After\" will be used.','','text'),(58,13,'mainMenu','currentBefore','Main Menu Current Page Before','HTML placed before the currently displayed page link - if this is blank then \"Main Menu Before\" will be used.','','text'),(57,13,'mainMenu','after','Main Menu After','HTML placed after each individual menu item','</li>','text'),(55,13,'mainMenu','finish','Main Menu Finish','HTML placed at the end of the menu','</ul>','text'),(56,13,'mainMenu','before','Main Menu Before','HTML placed before each individual menu item','<li>','text'),(54,13,'mainMenu','begin','Main Menu Begin','HTML placed at the beginning of the menu','<ul>','text');




CREATE TABLE `$$plugindata` (  `id` int(11) NOT NULL auto_increment,  `plugin_id` int(11) NOT NULL default '0',  `method_name` varchar(50) NOT NULL default '',  `internal_page_info` varchar(255) default NULL,  `menu_section` varchar(128) default NULL,  `menu_description` varchar(255) default NULL,  `must_admin` int(11) NOT NULL default '1',  `must_login` int(11) NOT NULL default '1',  `has_Tags` int(11) NOT NULL default '0',  `no_rights_error` int(11) NOT NULL default '0',  `direct_out` int(11) NOT NULL default '0',  `sys_exit` int(11) NOT NULL default '0',  PRIMARY KEY  (`id`)) COMMENT='Module/plugin methods configuration';


CREATE TABLE `$$l10n` (  `id` int(11) NOT NULL auto_increment,  `lang` varchar(2) NOT NULL default '',  `varName` varchar(50) NOT NULL default '',  `value` varchar(255) NOT NULL default '',  `description` varchar(255) NOT NULL default '',  PRIMARY KEY  (`id`)) COMMENT='l10n data for any languages';
INSERT INTO `$$l10n` VALUES (1,'en','datetime','%Y-%m-%d - %H:%M','The Python Format for Date and Time value.'),(2,'de','datetime','%d.%m.%Y - %H:%M','Datum und Uhrzeit im Python Format.');


CREATE TABLE `$$object_cache` (  `id` varchar(40) NOT NULL,  `expiry_time` datetime NOT NULL,  `request_ip` varchar(15) default NULL,  `user_id` int(11) default NULL,  `pickled_data` longblob COMMENT 'Object cache for pickled data objects',  PRIMARY KEY  (`id`)) COMMENT='Object cache for pickled data objects';


CREATE TABLE `$$markups` (  `id` int(11) NOT NULL auto_increment,  `name` varchar(50) NOT NULL default '',  PRIMARY KEY  (`id`)) COMMENT='Liste of available markups (manually created!)';
INSERT INTO `$$markups` VALUES (1,'None'),(2,'textile');


CREATE TABLE `$$pages` (  `id` int(11) NOT NULL auto_increment,  `name` varchar(50) NOT NULL default '',  `shortcut` varchar(50) NOT NULL default '',  `title` varchar(50) default NULL,  `parent` int(11) NOT NULL default '0',  `position` int(11) NOT NULL default '0',  `template` int(11) NOT NULL default '0',  `style` int(11) NOT NULL default '0',  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  `markup` varchar(50) default NULL,  `content` text,  `keywords` varchar(255) default NULL,  `description` varchar(255) default NULL,  `lastupdatetime` datetime default NULL,  `lastupdateby` int(11) default NULL,  `showlinks` tinyint(4) NOT NULL default '1',  `permitViewPublic` tinyint(4) NOT NULL default '1',  `permitViewGroupID` int(11) default NULL,  `ownerID` int(11) NOT NULL default '0',  `permitEditGroupID` int(11) default NULL,  PRIMARY KEY  (`id`),  UNIQUE KEY `shortcut` (`shortcut`)) COMMENT='CMS page storage';
INSERT INTO `$$pages` VALUES (1,'index','Index','index',0,0,1,1,'0000-00-00 00:00:00','2','h2. Welcome to your PyLucid CMS =;-)\r\n\r\nNote:\r\n\r\n* Do not delete this page: edit it!\r\n* After install delete the \"install_lock.txt\" file!\r\n\r\nh3. list of last page updates\r\n\r\n<lucidTag:page_update_list/>','','','2007-01-09 14:17:25',14,1,1,9,9,9),(2,'example pages','ExamplePages','example pages',0,0,1,1,'0000-00-00 00:00:00','2','h2. sub menu\r\n\r\n<lucidTag:sub_menu/>','','','2006-06-16 15:58:01',2,1,1,1,1,1),(3,'tinyTextile example','TinyTextileExample','complete tinyTextile Formating examples',2,0,1,1,'0000-00-00 00:00:00','2','h1. Überschriften\r\n\r\nÜberschriften werden mit h1. eingeleitet:\r\n\r\n<pre>\r\nh1. h-1 Überschrift\r\n\r\nh2. h-2 Überschrift\r\n</pre>\r\n\r\nErgibt:\r\n\r\nh1. h-1 Überschrift\r\n\r\nh2. h-2 Überschrift\r\n\r\n(Wichtig ist hierbei, das eine Leerzeile unter der Überschriftzeile bleibt!)\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. Textformatierung\r\n\r\n<pre>\r\nIch bin ein --kleines-- Wort mit ==<small>==-Tag\r\nDas wird ein *fettes* Wort mit ==<strong>==-Tag\r\n</pre>\r\n\r\nErgibt:\r\n\r\nIch bin ein --kleines-- Wort mit ==<small>==-Tag\r\nDas wird ein *fettes* Wort mit ==<strong>==-Tag\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. Links\r\n\r\nLinks werden nach folgendem Schema notiert:\r\n\r\n<pre>\r\n\"LinkText\":URL\r\n\r\nBeispiele:\r\n----------\r\nhttp://keinserver.dtl\r\nftp://keinserver.dtl\r\nmailto:name@beispiel.dtl\r\nhttp://www.python-forum.de\r\noder besser: \"Das deutsche Python-Forum\":http://www.python-forum.de\r\nDas wird auch ein \"Link\":?#unten\r\nEin interner PyLucid Link zur Seite [[BeispielSeitenName]]!\r\nTo make no link use instand of \":\" the ==&#x3A;==\r\n</pre>\r\nTo make no link you can put the Link into a pre Area:\r\n<pre>==<pre>==No link with a pre area: http://domain.tld==</pre>==</pre>\r\n\r\nAlso you can use a unicode escape sequenz, so thar tinytextile can\'t find a link. example http*==&#x3A;==*//domain.tld\r\n\r\nErgibt:\r\nhttp://keinserver.dtl\r\nftp://keinserver.dtl\r\nmailto:name@beispiel.dtl\r\nhttp://www.python-forum.de\r\noder besser: \"Das deutsche Python-Forum\":http://www.python-forum.de\r\nDas wird auch ein \"Link\":?#unten\r\nEin interner PyLucid Link zur Seite [[BeispielSeitenName]]!\r\n<pre>No link with a pre area: http://domain.tld</pre>\r\nexample: http&#x3A;//domain.tld\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. Listen\r\n\r\nNormale Listen werden mit einem \"*\" und nummerierte Liste mit einem \"#\"\r\neingeleitet. Diese können verschachtelt werden. Allerdings sollte man\r\nkeine normale und nummerierte Listen zusammen mischen.\r\n\r\n<pre>\r\n* 1. Eintrag in der erste Ebene\r\n** 1. Unterprunkt in der zweiten Ebene\r\n**** 1. Subunterpunkt in der vierter Ebene\r\n**** 2. Subunterpunkt in der vierter Ebene\r\n** 2. Unterprunkt in der zweiten Ebene\r\n\r\nNummerierte Liste:\r\n\r\n# Nummer eins\r\n# Nummer zweite\r\n## und so...\r\n## ...weiter...\r\n</pre>\r\n\r\nErgibt:\r\n\r\n* 1. Eintrag in der erste Ebene\r\n** 1. Unterprunkt in der zweiten Ebene\r\n**** 1. Subunterpunkt in der vierter Ebene\r\n**** 2. Subunterpunkt in der vierter Ebene\r\n** 2. Unterprunkt in der zweiten Ebene\r\n\r\nNummerierte Liste:\r\n\r\n# Nummer eins\r\n# Nummer zweite\r\n## und so...\r\n## ...weiter...\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. Bilder\r\n\r\nEin HTML-img-Tag wird erzeugt, wenn eine Adresse mit einem \"!\"-Zeichen\r\numschlossen ist.\r\n\r\n<pre>\r\n!http://images.sourceforge.net/images/project-support.jpg!\r\n!/favicon.ico!\r\n!http://domain.tld/pics/ich werde zu keiner URL weil hier leerzeichen sind.jpg!\r\n</pre>\r\n\r\nErgibt:\r\n\r\n!http://images.sourceforge.net/images/project-support.jpg!\r\n!/favicon.ico!\r\n!http://domain.tld/pics/ich werde zu keiner URL weil hier leerzeichen sind.jpg!\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. Python SourceCode\r\n\r\nEinblenden von Python Sourcecode.\r\nInteressant in dem Zusammenhang ist ==<lucidFunction:SourceCode>== ;)\r\n\r\nBeispiel:\r\n---------\r\n==\r\n<python>\r\n#!/usr/bin/python\r\n# -*- coding: UTF-8 -*-\r\n\r\n\"\"\"Ein kleines Skript\"\"\"\r\n\r\nprint \"Hello Word: I love Python!\"\r\n</python>\r\n==\r\n\r\nErgibt:\r\n\r\n<python>\r\n#!/usr/bin/python\r\n# -*- coding: UTF-8 -*-\r\n\r\n\"\"\"Ein kleines Skript\"\"\"\r\n\r\nprint \"Hello Word: I love Python!\"\r\n</python>\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. Escaping\r\n\r\nIn zwei \"=\"-Zeichen eingeschlossener Text wird escaped.\r\n\r\nBeispiel:\r\n---------\r\n========\r\nTable: <table width=\"90%\" border=\"0\" align=\"center\">\r\nLink: <a href=\"URL\">txt</a>\r\nInput: <input type=\"submit\" value=\"preview\" />\r\n========\r\n\r\nEs geht aber auch innerhalb eines Fliesstextes:\r\nMit ========<a href=\"URL\">txt</a>======== wird kein Link erzeugt.\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. pre-Formarted-Text\r\n\r\nIn ==<pre>==-Tag eingeschlossener Text wird nicht escaped und nicht formatiert. D.h. tinytextile Markups werden nicht aufgelöst. HTML-Tags werden aber in pre-Areas vom Browser angezeigt:\r\n\r\n<pre>\r\nBeispiel:\r\n---------\r\nh2. Dies wird zu keiner HTML-Überschrift\r\n<h3>Das ist eine manuell eingeleitete h3-Überschrift</h3>\r\n* Dies bleibt normaler Text...\r\n* ...und wird keine Liste\r\n</pre>\r\n\r\n<hr class=\"big_hr\">\r\n\r\nh1. HTML-Code\r\n\r\nHTML-Code wird einfach so belassen wie es ist:\r\n\r\nBeispiel:\r\n==\r\n<h3>Dies ist eine Tabelle</h3>\r\n<ul>\r\n   <li>1. Eintrag in der erste Ebene</li>\r\n   <ul>\r\n      <li>1. Unterprunkt in der zweiten Ebene</li>\r\n      <ul>\r\n         <li>1. Subunterpunkt in der dritten Ebene</li>\r\n         <li>2. Subunterpunkt in der dritten Ebene</li>\r\n      </ul>\r\n      <li>2. Unterprunkt in der zweiten Ebene</li>\r\n   </ul>\r\n   <li>2. Eintrag in der erste Ebene</li>\r\n   <li>3. Eintrag in der erste Ebene</li>\r\n</ul>\r\n\r\nHier kommt ein manueller Link zum: <a href=\"http://www.python-forum.de\">Das deutsche Python-Forum</a>\r\n==\r\n\r\nErgibt:\r\n\r\n<h3>Dies ist eine Tabelle</h3>\r\n<ul>\r\n   <li>1. Eintrag in der erste Ebene</li>\r\n   <ul>\r\n      <li>1. Unterprunkt in der zweiten Ebene</li>\r\n      <ul>\r\n         <li>1. Subunterpunkt in der dritten Ebene</li>\r\n         <li>2. Subunterpunkt in der dritten Ebene</li>\r\n      </ul>\r\n      <li>2. Unterprunkt in der zweiten Ebene</li>\r\n   </ul>\r\n   <li>2. Eintrag in der erste Ebene</li>\r\n   <li>3. Eintrag in der erste Ebene</li>\r\n</ul>\r\n\r\nHier kommt ein manueller Link zum: <a href=\"http://www.python-forum.de\">Das deutsche Python-Forum</a>\r\n\r\n<style type=\"text/css\">\r\n.big_hr {\r\n  border:5px solid gray;\r\n  margin-top: 7em;\r\n}\r\n</style>','','','2006-12-05 17:23:23',14,1,1,9,9,9),(10,'Designs','Designs','Some other designs pages...',0,0,1,1,'0000-00-00 00:00:00','2','Here a example pages for the other designs.\r\n\r\nPlease look at the page \"customise PyLucid\":http://pylucid.org/index.py/CustomisePyLucid/\r\n\r\nh2. sub menu\r\n\r\n<lucidTag:sub_menu/>','','','2007-01-09 14:54:06',14,1,1,9,14,9),(11,'small dark','SmallDark','',10,0,6,38,'0000-00-00 00:00:00','2','h2. the small dark design\r\n\r\nHere a small dark design by Jens Diemer (based on a design by CUATRO)\r\n\r\nNotes:\r\n* The Menu only works for small pages\r\n\r\n----\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.','','','2007-01-09 14:51:56',14,1,1,14,14,14),(4,'SiteMap','SiteMap','SiteMap',2,5,1,1,'0000-00-00 00:00:00','2','<lucidTag:SiteMap/>','','','2006-06-16 16:08:09',2,1,1,1,2,1),(5,'contact','Contact','contact',2,3,1,1,'0000-00-00 00:00:00','2','h4. DE\r\n\r\nBitte nutzt das \"Forum\":http://pylucid.org/index.py/Forum/ , die Mailingliste bzw. Feature Requests/Bugs Seite von sourceforge! Wenn du mir eine pers?nliche eMail schreibst, k?nnen die anderen leider nicht einsehen und evtl. ist es auch f?r andere Interessant!\r\n\r\nh4. EN\r\n\r\nPlease use the \"forum\":http://pylucid.org/index.py/Forum/ , the mailinglist and Feature Requests/Bugs page at sourceforge! If you write me personally one mail, the other one cannot see. Perhaps would be also interesting for others.\r\n\r\nh3. Mailinglist\r\n* \"pylucid-news\":https://lists.sourceforge.net/lists/listinfo/pylucid-news - NEWS about new releases (low Traffic)\r\n* \"pylucid-general\":https://lists.sourceforge.net/lists/listinfo/pylucid-general - General discussion about PyLucid.\r\n\r\n<table style=\"border:1px solid #aa0033; font-size:small\" align=center>\r\n  <tr>\r\n    <td rowspan=3>\r\n     <img src=\"http://groups.google.com/groups/img/groups_medium.gif\" height=58 width=150 alt=\"Google Groups\">\r\n    </td>\r\n    <td colspan=2 align=center><b>Subscribe to PyLucid-general</b></td>\r\n  </tr>\r\n  <form action=\"http://groups.google.com/group/PyLucid-general/boxsubscribe\">\r\n  <tr> \r\n    <td>Email: <input type=text name=email></td>\r\n    <td>\r\n      <table \r\n       style=\"background-color:#ffcc33;padding:2px;border:2px outset #ffcc33;\">\r\n      <tr>\r\n        <td>\r\n         <input type=submit name=\"sub\" value=\"Subscribe\">\r\n        </td>\r\n      </tr>\r\n      </table>\r\n    </td>\r\n  </tr>\r\n   </form>\r\n  <tr><td colspan=2 align=center>\r\n   <a href=\"http://groups.google.com/group/PyLucid-general\">Browse Archives</a> at <a href=\"http://groups.google.com/\">groups.google.com</a>\r\n  </td></tr>\r\n</table>\r\n\r\nh3. jabber\r\n\r\n* Look in the PyLucid Channel:\r\n** pylucid@conference.jabjab.de\r\n** pylucid@conference.jabber.org\r\n\r\nh3. IRC\r\n* You can find us in <a href=\"irc://irc.freenode.net/%23PyLucid.org\">#PyLucid.org</a> on freenode.net, too: \r\n\r\nh3. support at \"sourceforge\":http://www.sourceforge.net/projects/pylucid/\r\n\r\n* Report \"Feature Requests\":http://sourceforge.net/tracker/?atid=764840&group_id=146328&func=browse | \"Bugs\":http://sourceforge.net/tracker/?atid=764837&group_id=146328&func=browse\r\n\r\n','','','2006-10-10 20:31:01',1,1,1,1,1,1),(6,'RSS','RSS','RSS feed test',2,0,1,1,'0000-00-00 00:00:00','2','&lt;lucidFunction:RSS&gt;url&lt;/lucidFunction&gt;\r\n\r\nIf you can\'t see the RSS-Feed, you must first install and activate the RSS Plugin to see the RSS-Feed:\r\n* log in\r\n* goto sub menu / Module Administration\r\n* install the RSS Plugin\r\n* activate it\r\n\r\nh2. PyLucid Project-NEWS RSS feed from sourceforge:\r\n\r\n<lucidFunction:RSS>http://sourceforge.net/export/rss2_projnews.php?group_id=146328&rss_fulltext=1</lucidFunction>','','','2006-07-12 14:34:43',1,1,1,1,1,1),(7,'SourceCode','SourceCode','SourceCode',2,0,1,1,'0000-00-00 00:00:00','2','h2. ==<lucidFunction:SourceCode>== Plugin\r\n\r\nWith the SourceCode Plugin you can integrate the source code of a local file into your CMS page.\r\n\r\nExample Tag:\r\n<pre>==<lucidFunction:SourceCode>PyLucid/modules/auth/login.css</lucidFunction>==</pre>\r\n\r\nNote: With the ==<code>==-Tag you can directly put highlight source code into your CMS page, look at [[TinyTextileExample]]\r\n\r\nPyLucid used the Python syntax highlighter \"Pygments\":http://pygments.pocoo.org/ . It supports an ever-growing range of languages, look at: http://pygments.pocoo.org/docs/lexers/\r\n\r\nh3. some Examples:\r\n\r\nh5. ./PyLucid/modules/auth/login.css:\r\n\r\n<lucidFunction:SourceCode>PyLucid/modules/auth/login.css</lucidFunction>\r\n\r\n\r\n\r\nh5. ./PyLucid/buildin_plugins/MySQLdump/menu.js:\r\n\r\n<lucidFunction:SourceCode>PyLucid/buildin_plugins/MySQLdump/menu.js</lucidFunction>\r\n\r\n\r\n\r\nh5. ./PyLucid/buildin_plugins/sub_menu/sub_menu_cfg.py:\r\n\r\n<lucidFunction:SourceCode>PyLucid/buildin_plugins/sub_menu/sub_menu_cfg.py</lucidFunction>\r\n\r\nh2. ==<code>==-Tag\r\n\r\nUse ==<code=ext>...</code>== and PyLucid used Pygments to highlight it.\r\n\'ext\' is the typical fileextension/alias, please look at:\r\n\r\n * http://pygments.pocoo.org/docs/lexers/\r\n\r\nh3. examples\r\n\r\n==<code=css>\r\n.xs {font-family:verdana,arial,helvetica,sans-serif;font-size: x-small}\r\n.m {font-size: medium}\r\n</code>==\r\n\r\nresult:\r\n\r\n<code=css>\r\n.xs {font-family:verdana,arial,helvetica,sans-serif;font-size: x-small}\r\n.m {font-size: medium}\r\n</code>\r\n\r\nHere a \"error\" example:\r\n\r\n<code=NotExists>\r\nThis is a code with an unknown format!\r\n\r\nIf there exist no Lexer for the given format, PyLucid used the Pygments TextLexer.\r\nSo you can make <code=.xy>...</code>, where .xy is any externsion. But for all that it is well displayed through Pygments. Is that cool?\r\n\r\n=;-)\r\n</code>','','','2006-12-05 17:24:11',14,1,1,9,9,9),(12,'old default','OldDefault','the old default ghastly design... ;)',10,0,9,41,'0000-00-00 00:00:00','2','Note: The old default Style is not the right one to start you own design! The CSS/Template a grow up into chaos ;)\r\n\r\n----\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.','','','2007-02-07 14:31:25',14,1,1,14,14,14),(13,'elementary','Elementary','elementary',10,0,7,39,'0000-00-00 00:00:00','2','This discoloured, elementary CSS/Template is a good startpoint to make you own Design!\r\n\r\n----\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.','','','2007-01-09 15:43:02',14,1,1,14,14,14),(14,'small white','SmallWhite','small white',10,0,8,40,'0000-00-00 00:00:00','2','h2. a small white design\r\n\r\nBy:\r\n* Martin Bergner\r\n* Jens Diemer\r\n\r\nBased on the original design by \"Andreas Viklund\":http://andreasviklund.com\r\n\r\n----\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.','','','2007-01-15 11:38:58',14,1,1,14,14,14);


CREATE TABLE `$$groups` (  `id` int(11) NOT NULL auto_increment,  `pluginID` int(11) NOT NULL default '0',  `name` varchar(50) NOT NULL default '',  `section` varchar(50) NOT NULL default '',  `description` varchar(50) NOT NULL default '',  `lastupdatetime` datetime NOT NULL default '0000-00-00 00:00:00',  `lastupdateby` int(11) default NULL,  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  PRIMARY KEY  (`id`),  UNIQUE KEY `name` (`name`)) COMMENT='not used yet!';
INSERT INTO `$$groups` VALUES (1,0,'managePages','core','This group is able to add/edit/delete pages.','0000-00-00 00:00:00',NULL,'0000-00-00 00:00:00'),(2,0,'manageStyles','core','This group is able to add/edit/delete stylesheets.','0000-00-00 00:00:00',NULL,'0000-00-00 00:00:00'),(3,0,'manageTemplates','core','This group is able to add/edit/delete templates.','0000-00-00 00:00:00',NULL,'0000-00-00 00:00:00'),(4,0,'admin','user-Defined','Administratoren','0000-00-00 00:00:00',NULL,'0000-00-00 00:00:00');


CREATE TABLE `$$plugins` (  `id` int(11) NOT NULL auto_increment,  `package_name` varchar(128) NOT NULL default '',  `module_name` varchar(30) NOT NULL default '',  `version` varchar(15) default NULL,  `author` varchar(50) default NULL,  `url` varchar(128) default NULL,  `description` varchar(255) default NULL,  `long_description` text,  `active` int(1) NOT NULL default '0',  `debug` int(1) NOT NULL default '0',  `SQL_deinstall_commands` text,  `plugin_cfg` longblob COMMENT 'pickled Python object structure',  PRIMARY KEY  (`id`)) COMMENT='global module/plugin configuration';



CREATE TABLE `$$md5users` (  `id` int(11) NOT NULL auto_increment,  `name` varchar(50) NOT NULL default '',  `realname` varchar(50) NOT NULL default '',  `email` varchar(50) NOT NULL default '',  `md5checksum` varchar(64) NOT NULL,  `salt` int(11) NOT NULL,  `admin` tinyint(4) NOT NULL default '0',  `lastupdatetime` datetime NOT NULL default '0000-00-00 00:00:00',  `lastupdateby` int(11) default NULL,  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  PRIMARY KEY  (`id`),  UNIQUE KEY `name` (`name`)) ;


CREATE TABLE `$$templates` (  `id` int(11) NOT NULL auto_increment,  `name` varchar(50) NOT NULL default '',  `lastupdateby` int(11) NOT NULL default '0',  `description` text NOT NULL,  `content` text NOT NULL,  `lastupdatetime` datetime NOT NULL default '0000-00-00 00:00:00',  `createtime` datetime NOT NULL default '0000-00-00 00:00:00',  PRIMARY KEY  (`id`),  UNIQUE KEY `name` (`name`)) COMMENT='page template storage';
INSERT INTO `$$templates` VALUES (1,'basic',14,'default template','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"xhtml1-strict.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<title>PyLucid CMS - <lucidTag:page_title/></title>\r\n<meta name=\"robots\"                    content=\"<lucidTag:robots/>\" />\r\n<meta name=\"keywords\"                  content=\"<lucidTag:page_keywords/>\" />\r\n<meta name=\"description\"               content=\"<lucidTag:page_description/>\" />\r\n<meta name=\"Author\"                    content=\"PyLucidCMS\" />\r\n<meta name=\"DC.Date\"                   content=\"<lucidTag:page_last_modified/>\" />\r\n<meta name=\"DC.Date.created\"           content=\"<lucidTag:page_datetime/>\" />\r\n<meta http-equiv=\"Content-Type\"        content=\"text/html; charset=utf-8\" />\r\n<meta name=\"MSSmartTagsPreventParsing\" content=\"TRUE\" />\r\n<meta http-equiv=\"imagetoolbar\"        content=\"no\" />\r\n<lucidTag:page_style/>\r\n</head>\r\n<body>\r\n<div id=\"headline\">\r\n  <a href=\"/\">PyLucid CMS</a>\r\n</div>\r\n\r\n<div id=\"the_menu\">\r\n  <lucidTag:main_menu/>\r\n  <div id=\"searching\">\r\n    <lucidTag:search/>\r\n  </div>\r\n  <a href=\"http://sourceforge.net/projects/pylucid/\" id=\"logo\" alt=\"goto our SourceForge project page &gt;&gt;\" title=\"goto our SourceForge project page &gt;&gt;\">\r\n    <img src=\"http://sourceforge.net/sflogo.php?group_id=146328&amp;type=1\" width=\"88\" height=\"31\" border=\"0\" alt=\"SourceForge Logo\" />\r\n  </a>\r\n</div>\r\n\r\n<div id=\"main_content\">\r\n  <h2 id=\"page_title\"><lucidTag:page_title/></h2>\r\n  <lucidTag:page_msg/>\r\n  <lucidTag:admin_menu/>\r\n  <lucidTag:page_body/>\r\n</div>\r\n\r\n<p id=\"footer\">\r\n   powered by <lucidTag:powered_by/> | <lucidTag:script_login/> | Rendered in <lucidTag:script_duration/> sec. | last modified: <lucidTag:page_last_modified/>\r\n</p>\r\n\r\n</div>\r\n</body>\r\n</html>','2007-02-05 08:30:55','0000-00-00 00:00:00'),(9,'old_basic',14,'clone of \'basic\'','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"xhtml1-strict.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<title>PyLucid CMS - <lucidTag:page_title/></title>\r\n<meta name=\"robots\"                    content=\"<lucidTag:robots/>\" />\r\n<meta name=\"keywords\"                  content=\"<lucidTag:page_keywords/>\" />\r\n<meta name=\"description\"               content=\"<lucidTag:page_description/>\" />\r\n<meta name=\"Author\"                    content=\"PyLucidCMS\" />\r\n<meta name=\"DC.Date\"                   content=\"<lucidTag:page_last_modified/>\" />\r\n<meta name=\"DC.Date.created\"           content=\"<lucidTag:page_datetime/>\" />\r\n<meta http-equiv=\"Content-Type\"        content=\"text/html; charset=utf-8\" />\r\n<meta name=\"MSSmartTagsPreventParsing\" content=\"TRUE\" />\r\n<meta http-equiv=\"imagetoolbar\"        content=\"no\" />\r\n<lucidTag:page_style/>\r\n</head>\r\n<body>\r\n<div id=\"headline\"><h2>PyLucid CMS</h2></div>\r\n<div id=\"sidebar\">\r\n<lucidTag:main_menu/>\r\n</div>\r\n\r\n<div id=\"main-content\">\r\n  <h2><lucidTag:page_title/></h2>\r\n  <lucidTag:page_msg/><lucidTag:admin_menu/>\r\n  <p id=\"nav_link\">\r\n    <lucidTag:back_links/>\r\n  </p>\r\n  <lucidTag:page_body/>\r\n  <p id=\"nav_footer\">\r\n    <lucidTag:page_last_modified/> | <lucidTag:script_login/> | Rendered in <lucidTag:script_duration/> sec. | <lucidTag:powered_by/>\r\n  </p>\r\n</div>\r\n</body>\r\n</html>','2007-02-05 08:29:21','2007-02-05 08:29:21'),(6,'small_dark',14,'clone of \'basic\'','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"xhtml1-strict.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<title>PyLucid CMS - <lucidTag:page_title/></title>\r\n<meta name=\"robots\"                    content=\"<lucidTag:robots/>\" />\r\n<meta name=\"keywords\"                  content=\"<lucidTag:page_keywords/>\" />\r\n<meta name=\"description\"               content=\"<lucidTag:page_description/>\" />\r\n<meta name=\"Author\"                    content=\"PyLucidCMS\" />\r\n<meta name=\"DC.Date\"                   content=\"<lucidTag:page_last_modified/>\" />\r\n<meta name=\"DC.Date.created\"           content=\"<lucidTag:page_datetime/>\" />\r\n<meta http-equiv=\"Content-Type\"        content=\"text/html; charset=utf-8\" />\r\n<meta name=\"MSSmartTagsPreventParsing\" content=\"TRUE\" />\r\n<meta http-equiv=\"imagetoolbar\"        content=\"no\" />\r\n<lucidTag:page_style/>\r\n</head>\r\n<body>\r\n<div id=\"content\">\r\n  <p id=\"head\">PyLucid CMS</p>\r\n  <hr class=\"big\" />\r\n  <lucidTag:main_menu/>\r\n  <hr class=\"small\" />\r\n\r\n  <h1><lucidTag:page_title/></h1>\r\n\r\n  <lucidTag:page_msg/><lucidTag:admin_menu/>\r\n\r\n  <lucidTag:page_body/>\r\n\r\n  <hr class=\"small\" />\r\n  <hr class=\"big\" />\r\n  <p id=\"nav_footer\">\r\n    <lucidTag:page_last_modified/> | <lucidTag:script_login/> | Rendered in <lucidTag:script_duration/> sec. | <lucidTag:powered_by/>\r\n  </p>\r\n</div>\r\n</body>\r\n</html>','2007-01-09 14:43:33','2007-01-09 14:38:14'),(7,'elementary',14,'clone of \'basic\'','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"xhtml1-strict.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<title>PyLucid CMS - <lucidTag:page_title/></title>\r\n<meta name=\"robots\"                    content=\"<lucidTag:robots/>\" />\r\n<meta name=\"keywords\"                  content=\"<lucidTag:page_keywords/>\" />\r\n<meta name=\"description\"               content=\"<lucidTag:page_description/>\" />\r\n<meta name=\"Author\"                    content=\"PyLucidCMS\" />\r\n<meta name=\"DC.Date\"                   content=\"<lucidTag:page_last_modified/>\" />\r\n<meta name=\"DC.Date.created\"           content=\"<lucidTag:page_datetime/>\" />\r\n<meta http-equiv=\"Content-Type\"        content=\"text/html; charset=utf-8\" />\r\n<meta name=\"MSSmartTagsPreventParsing\" content=\"TRUE\" />\r\n<meta http-equiv=\"imagetoolbar\"        content=\"no\" />\r\n<lucidTag:page_style/>\r\n</head>\r\n<body>\r\n<div id=\"headline\"><h2>PyLucid CMS</h2></div>\r\n\r\n<lucidTag:main_menu/>\r\n\r\n<div id=\"main_content\">\r\n  <h2 id=\"page_title\"><lucidTag:page_title/></h2>\r\n  <lucidTag:page_msg/><lucidTag:admin_menu/>\r\n  <p id=\"back_links\"><lucidTag:back_links/></p>\r\n\r\n  <lucidTag:page_body/>\r\n</div>\r\n\r\n<p id=\"footer\">\r\n   powered by <lucidTag:powered_by/> | <lucidTag:script_login/> | Rendered in <lucidTag:script_duration/> sec. | last modified: <lucidTag:page_last_modified/>\r\n</p>\r\n\r\n</div>\r\n</body>\r\n</html>','2007-01-09 15:49:32','2007-01-09 15:13:53'),(8,'small_white',14,'clone of \'elementary\'','<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"de\" lang=\"de\">\r\n<head>\r\n<meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" />\r\n<meta name=\"author\" content=\"Martin Bergner/ Jens Diemer / Original design: Andreas Viklund - http://andreasviklund.com\" />\r\n<meta name=\"robots\" content=\"<lucidTag:robots/>\" />\r\n<meta name=\"keywords\" content=\"<lucidTag:page_keywords/>\" />\r\n<meta name=\"description\" content=\"<lucidTag:page_description/>\" />\r\n<meta name=\"DC.Date\" content=\"<lucidTag:page_last_modified/>\" />\r\n<meta name=\"DC.Date.created\" content=\"<lucidTag:page_datetime/>\" />\r\n<meta name=\"MSSmartTagsPreventParsing\" content=\"TRUE\" />\r\n<meta http-equiv=\"imagetoolbar\" content=\"no\" />\r\n<lucidTag:page_style/>\r\n<!-- RSS: Insert your rss plugins here -->\r\n<!-- RSS: end -->\r\n<title>PyLucid - <lucidTag:page_title/></title>\r\n</head>\r\n<body>\r\n<div id=\"wrap\">\r\n  <!-- HEADER: Put whatever you want in your header here -->\r\n  <div id=\"header\">\r\n    This could be <strong>your</strong> header!\r\n  </div>\r\n  <!-- HEADER: end-->\r\n\r\n  <!-- Put your logo here -->\r\n  <!--\r\n     <img id=\"frontphoto\" src=\"/img/logo.png\" width=\"760\" height=\"113\" alt=\"\" />\r\n  -->\r\n\r\n  <!-- LEFTSIDE: Here can be your menu, news and other things -->\r\n  <div id=\"leftside\">\r\n    <h2 class=\"hide\">Menu:</h2>\r\n    <lucidTag:main_menu/>\r\n    <lucidTag:search/>\r\n    </div>\r\n  <!-- LEFTSIDE: end -->\r\n  <!-- CONTENT: Here is the main page -->\r\n  <div id=\"contentwide\">\r\n    <div id=\"admin\"><lucidTag:admin_menu/></div>\r\n    <lucidTag:page_msg/>\r\n    <p id=\"nav_link\">\r\n      <lucidTag:back_links/>\r\n\r\n    </p>\r\n    <lucidTag:page_body/>\r\n  </div>\r\n  <!-- CONTENT: end -->\r\n  <!-- FOOTER: Put your footer here -->\r\n  <div id=\"footer\">\r\n    <p>\r\n      <lucidTag:script_login/> | Powered by <lucidTag:powered_by/>.\r\n    </p>\r\n\r\n  </div>\r\n  <!-- FOOTER: end -->\r\n</div>\r\n</body>\r\n</html>\r\n','2007-01-15 12:02:46','2007-01-15 11:36:14');


CREATE TABLE `$$archive` (  `id` int(11) NOT NULL auto_increment,  `userID` int(11) NOT NULL default '0',  `type` varchar(50) NOT NULL default '',  `date` datetime NOT NULL default '0000-00-00 00:00:00',  `comment` varchar(255) NOT NULL default '',  `content` text NOT NULL,  PRIMARY KEY  (`id`)) COMMENT='Achive system, in common use';

'''

def install_0_7_sql(command):
    def execute(SQLcommand):

        SQLcommand = SQLcommand.replace("$$", settings.TABLE_PREFIX)

        try:
            cursor.execute(SQLcommand)
        except Exception:
            # Es wird ein Unicode Fehler sein.
            # Versuchen wir es mal mit Unicode:
            SQLcommand = unicode(SQLcommand, "utf8", errors="replace")
            try:
                cursor.execute(SQLcommand)
            except Exception, e:
                print "Error: '%s' in SQL-command!" % e
                return False
        return True

    counter = 0
    for line in command.split("\n"):
        if line=="": # Leere Zeilen überspringen
            continue
        execute(line)
        counter += 1
    return counter




def fetchall(SQLcommand):
    cursor.execute(SQLcommand)
    return cursor.fetchall()


def catched_execute(SQLcommand):
    try:
        cursor.execute(SQLcommand)
    except Exception, e:
        print "Error:", e
    else:
        print "OK"


def get_all_tables():
    """
    Liste aller Tabellennamen
    """
    table_names = []
    for line in fetchall("SHOW TABLES"):
        table_name = line[0]
        if table_name.startswith(settings.TABLE_PREFIX):
            table_names.append(table_name)

    return table_names


def get_table_fields(table_name):
    SQLcommand = "SHOW FIELDS FROM %s;" % table_name
    return fetchall(SQLcommand)


def alter_table_field(table_name, field):
    """
    Set "DEFAULT NULL" to a datetime field.
    """
    SQLcommand = (
        "ALTER TABLE %(table)s CHANGE %(field)s %(field)s DATETIME NULL;"
    ) % {
        "table": table_name,
        "field": field,
    }
    print SQLcommand
    print "ALTER TABLE...",
    catched_execute(SQLcommand)


def patch_field_values(table_name, primary_key, field_name):
    """
    Set 00-00-0000 values to a NULL value.
    """
    fields = ",".join([primary_key, field_name])
    SQLcommand = "SELECT %s FROM %s;" % (fields, table_name)

    for current_key, value in fetchall(SQLcommand):
        if isinstance(value, datetime.datetime):
            continue

        SQLcommand = "UPDATE %s SET %s = NULL WHERE %s = %s LIMIT 1;" % (
            table_name, field_name, primary_key, current_key
        )
        print "Update datetime field %s.%s (where %s = %s)..." % (
            table_name, field_name, primary_key, current_key
        ),
        catched_execute(SQLcommand)


if __name__ == "__main__":
    # install 0_7
    install_0_7_sql(v0_7_sql_data)
    table_names = get_all_tables()
    for table_name in table_names:
        print "---", table_name
        fields = get_table_fields(table_name)

        date_fields = []
        primary_key = None
        for field in fields:
            field_name = field[0]
            field_type = field[1]
            field_flag = field[3]
            if field_flag == "PRI":
                primary_key = field_name
            if field_type != "datetime":
                continue

            alter_table_field(table_name, field_name)
            try:
                patch_field_values(table_name, primary_key, field_name)
            except Exception, e:
                print 'Error %s' % e
    syncdb()
